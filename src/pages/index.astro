---
import Contact from "@components/Contact.astro";
import Header from "@components/Header.astro";
import ProjectCard from "@components/ProjectCard.astro";
import Section from "@components/Section.astro";
import Layout from "@layouts/Layout.astro";

import { getCollection } from "astro:content";

const featuredProjects = await getCollection("projects", ({ data }) => {
  return data.published && data.featured;
});

const orderedProjects = [...featuredProjects].sort(
  (a, b) => a.data.order - b.data.order
);
---

<Layout
  title="Brandon Carlisle"
  description="Brandon Carlisle - A web developer based in the UK, crafting performant websites with up-to-date user interfaces on the web. Check out his featured work and read more about his experience in frontend and backend development."
>
  <Header>
    A developer crafting performant{" "}
    <span
      class="border-b border-dashed border-current text-sky-200 inline-block"
    >
      websites
    </span>{" "}
    with up-to-date user{" "}
    <span
      class="border-b border-dashed border-current text-green-200 inline-block"
    >
      interfaces
    </span>{" "}
    on the web.
  </Header>

  <div class="mt-10 mb-16">
    <p class="mb-5">
      Hi, I&apos;m Brandon - a web developer based in the UK with over 1 years
      experience working on both frontend and backend development projects using
      TypeScript, React and Next.js.
    </p>

    <a href="/about" class="underline group" rel="prefetch"
      >Read more <span
        class="group-hover:translate-x-1 inline-block transition-all"
        >&rarr;</span
      ></a
    >
  </div>

  <Section title="Featured work">
    <div class="flex flex-col gap-5">
      {orderedProjects.map((project) => <ProjectCard project={project} />)}
    </div>
  </Section>

  <Contact />
</Layout>
